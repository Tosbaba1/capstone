<nav class="navbar navbar-expand-lg navbar-dark bg-teal-gradient">
  <div class="container-fluid position-relative">
    <div class="d-flex align-items-center position-absolute start-0">
      <%= link_to 'N', root_path, class: 'navbar-brand me-3' %>
      <%= link_to '#', class: 'navbar-brand' do %>
        <i class="fas fa-search"></i>
      <% end %>
    </div>
    <ul class="navbar-nav mb-2 mb-lg-0 d-flex flex-row mx-auto justify-content-center">
      <li class="nav-item me-3"><%= link_to root_path, class: "nav-link #{current_page?(root_path) ? 'active' : ''}" do %><i class="fas fa-home"></i><% end %></li>
      <li class="nav-item me-3"><%= link_to '/library', class: "nav-link #{request.path == '/library' ? 'active' : ''}" do %><i class="fas fa-book-open"></i><% end %></li>
      <li class="nav-item me-3"><%= link_to '/notifications', class: "nav-link position-relative #{request.path == '/notifications' ? 'active' : ''}" do %>
        <i class="fas fa-bell"></i>
        <% unread_count = current_user.notifications.unread.count %>
        <% if unread_count.positive? %>
          <span class="notification-dot"></span>
        <% end %>
      <% end %></li>
      <li class="nav-item"><%= link_to '/profile', class: "nav-link #{request.path == '/profile' ? 'active' : ''}" do %><i class="fas fa-user"></i><% end %></li>
    </ul>
    <span class="navbar-text position-absolute end-0"><%= @page_title %></span>
  </div>
</nav>
